<!DOCTYPE html>
<html lang="en">
<head>
  <title>Simple Select Box</title>
  <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
  <script src="../src/dist/select.js"></script>
  <link rel="stylesheet" type="text/css" href="../themes/light/select-js-theme-light.css">
  <link rel="stylesheet" type="text/css" href="../themes/dark/select-js-theme-dark.css">
  <style>
    div {

    }
  </style>
</head>

<body>
  <div style="max-height:10em;overflow-y:auto;">
  <div style="height:20em;">
    <select class="foo" id="countries" tabindex="1">
      <option value="CA" data-image-url="images/Canada.png">Canada</option>
      <optgroup label="North America">
        <option value="CA" data-image-url="images/Canada.png">Canada</option>
        <option value="US" data-image-url="images/United States of America(USA).png">United States of America</option>
        <option value="ME" data-image-url="images/Mexico.png">Mexico</option>
        <option value="CU" data-image-url="images/Cuba.png">Cuba</option>
        <option value="GU" data-image-url="images/Guatemala.png">Guatemala</option>
        <option value="HA" data-image-url="images/Haiti.png">Haiti</option>
        <option value="HO" data-image-url="images/Honduras.png">Honduras</option>
        <option value="CO" data-image-url="images/Costa-Rica.png">Costa Rica</option>
        <option value="PA" data-image-url="images/Panama.png">Panama</option>
        <option value="JA" data-image-url="images/Jamaica.png">Jamaica</option>
        <option value="BA" data-image-url="images/Bahamas.png">Bahamas</option>
      </optgroup>
      <optgroup label="Europe">
        <option selected value="FI" data-image-url="images/Finland.png">Finland</option>
        <option value="SE" data-image-url="images/Sweden.png">Sweden</option>
        <option value="NO" data-image-url="images/Norway.png">Norway</option>
        <option value="DE" data-image-url="images/Denmark.png">Denmark</option>
        <option value="IC" data-image-url="images/Iceland.png">Iceland</option>
        <option value="GE" data-image-url="images/Germany.png">Germany</option>
        <option value="FR" data-image-url="images/France.png">France</option>
        <option value="ES" data-image-url="images/Spain.png">Spain</option>
        <option value="PO" data-image-url="images/Poland.png">Poland</option>
        <option value="SC" data-image-url="images/Scotland.png">Scotland</option>
        <option value="RU" data-image-url="images/Russian Federation.png">Russia</option>
        <option value="PO" data-image-url="images/Portugal.png">Portugal</option>
        <option value="IR" data-image-url="images/Ireland.png">Ireland</option>
        <option value="WA" data-image-url="images/Wales.png">Wales</option>
        <option value="NE" data-image-url="images/Netherlands.png">Netherlands</option>
        <option value="GR" data-image-url="images/Greece.png">Greece</option>
        <option value="IT" data-image-url="images/Italy.png">Italy</option>
        <option value="HU" data-image-url="images/Hungary.png">Hungary</option>
        <option value="BG" data-image-url="images/Bulgaria.png">Bulgaria</option>
        <option value="BE" data-image-url="images/Belgium.png">Belgium</option>
        <option value="ES" data-image-url="images/Estonia.png">Estonia</option>
        <option value="LI" data-image-url="images/Lithuania.png">Lithuania</option>
        <option value="LA" data-image-url="images/Latvia.png">Latvia</option>
        <option value="VA" data-image-url="images/Vatican City.png">Vatican City</option>
        <option value="TU" data-image-url="images/Turkey.png">Turkey</option>
        <option value="IS" data-image-url="images/Israel.png">Israel</option>
        <option value="AN" data-image-url="images/Andorra.png">Andorra</option>
        <option value="MO" data-image-url="images/Monaco.png">Monaco</option>
        <option value="SW" data-image-url="images/Switzerland.png">Switzerland</option>
        <option value="AU" data-image-url="images/Austria.png">Austria</option>
        <option value="EN" data-image-url="images/England.png">England</option>
        <option value="SR" data-image-url="images/Serbia(Yugoslavia).png">Serbia</option>
        <option value="LU" data-image-url="images/Luxembourg.png">Luxembourg</option>
        <option value="RO" data-image-url="images/Romania.png">Romania</option>
        <option value="UK" data-image-url="images/Ukraine.png">Ukraine</option>
        <option value="MD" data-image-url="images/Moldova.png">Moldova</option>
        <option value="CY" data-image-url="images/Cyprus.png">Cyprus</option>
        <option value="UK" data-image-url="images/United Kingdom(Great Britain).png">United Kingdom</option>
        <option value="SL" data-image-url="images/Slovakia.png">Slovakia</option>
        <option value="SN" data-image-url="images/Slovenia.png">Slovenia</option>
        <option value="SA" data-image-url="images/San Marino.png">San Marino</option>
        <option value="LI" data-image-url="images/Liechtenstein.png">Liechtenstein</option>
      </optgroup>
    </select>
    <select tabindex="2">
          <optgroup label="North America">
        <option value="CA" data-image-url="images/Canada.png">Canada</option>
        <option value="US" data-image-url="images/United States of America(USA).png">United States of America</option>
        <option value="ME" data-image-url="images/Mexico.png">Mexico</option>
        <option value="CU" data-image-url="images/Cuba.png">Cuba</option>
        <option value="GU" data-image-url="images/Guatemala.png">Guatemala</option>
        <option value="HA" data-image-url="images/Haiti.png">Haiti</option>
        <option value="HO" data-image-url="images/Honduras.png">Honduras</option>
        <option value="CO" data-image-url="images/Costa-Rica.png">Costa Rica</option>
        <option value="PA" data-image-url="images/Panama.png">Panama</option>
        <option value="JA" data-image-url="images/Jamaica.png">Jamaica</option>
        <option value="BA" data-image-url="images/Bahamas.png">Bahamas</option>
      </optgroup>
      <optgroup label="Europe">
        <option selected value="FI" data-image-url="images/Finland.png">Finland</option>
        <option value="SE" data-image-url="images/Sweden.png">Sweden</option>
        <option value="NO" data-image-url="images/Norway.png">Norway</option>
        <option value="DE" data-image-url="images/Denmark.png">Denmark</option>
        <option value="IC" data-image-url="images/Iceland.png">Iceland</option>
        <option value="GE" data-image-url="images/Germany.png">Germany</option>
        <option value="FR" data-image-url="images/France.png">France</option>
        <option value="ES" data-image-url="images/Spain.png">Spain</option>
        <option value="PO" data-image-url="images/Poland.png">Poland</option>
        <option value="SC" data-image-url="images/Scotland.png">Scotland</option>
        <option value="RU" data-image-url="images/Russian Federation.png">Russia</option>
        <option value="PO" data-image-url="images/Portugal.png">Portugal</option>
        <option value="IR" data-image-url="images/Ireland.png">Ireland</option>
        <option value="WA" data-image-url="images/Wales.png">Wales</option>
        <option value="NE" data-image-url="images/Netherlands.png">Netherlands</option>
        <option value="GR" data-image-url="images/Greece.png">Greece</option>
        <option value="IT" data-image-url="images/Italy.png">Italy</option>
        <option value="HU" data-image-url="images/Hungary.png">Hungary</option>
        <option value="BG" data-image-url="images/Bulgaria.png">Bulgaria</option>
        <option value="BE" data-image-url="images/Belgium.png">Belgium</option>
        <option value="ES" data-image-url="images/Estonia.png">Estonia</option>
        <option value="LI" data-image-url="images/Lithuania.png">Lithuania</option>
        <option value="LA" data-image-url="images/Latvia.png">Latvia</option>
        <option value="VA" data-image-url="images/Vatican City.png">Vatican City</option>
        <option value="TU" data-image-url="images/Turkey.png">Turkey</option>
        <option value="IS" data-image-url="images/Israel.png">Israel</option>
        <option value="AN" data-image-url="images/Andorra.png">Andorra</option>
        <option value="MO" data-image-url="images/Monaco.png">Monaco</option>
        <option value="SW" data-image-url="images/Switzerland.png">Switzerland</option>
        <option value="AU" data-image-url="images/Austria.png">Austria</option>
        <option value="EN" data-image-url="images/England.png">England</option>
        <option value="SR" data-image-url="images/Serbia(Yugoslavia).png">Serbia</option>
        <option value="LU" data-image-url="images/Luxembourg.png">Luxembourg</option>
        <option value="RO" data-image-url="images/Romania.png">Romania</option>
        <option value="UK" data-image-url="images/Ukraine.png">Ukraine</option>
        <option value="MD" data-image-url="images/Moldova.png">Moldova</option>
        <option value="CY" data-image-url="images/Cyprus.png">Cyprus</option>
        <option value="UK" data-image-url="images/United Kingdom(Great Britain).png">United Kingdom</option>
        <option value="SL" data-image-url="images/Slovakia.png">Slovakia</option>
        <option value="SN" data-image-url="images/Slovenia.png">Slovenia</option>
        <option value="SA" data-image-url="images/San Marino.png">San Marino</option>
        <option value="LI" data-image-url="images/Liechtenstein.png">Liechtenstein</option>
      </optgroup>
    </select>
    <select id="poison" tabindex="4">
      <option value="a">aaaaaaaaaa</option>
      <option value="b">bbbbbb</option>
      <option value="c">cccccccccccccccccc</option>
      <option value="d">ddd</option>
      <option value="e">eeeeeee</option>
      <option value="f">ffffff</option>
      <option value="g">gggggggg</option>
      <option value="h">hhhhh</option>
      <option value="i">iiiii</option>
    </select>

    <select id="bar" tabindex="4">
      <option value="CA" >Canada</option>
      <optgroup label="North America">
        <option value="CA">Canada</option>
      </optgroup>
      <optgroup label="foo">
        <option selected value="FI" >Finland</option>
        <option value="SE" >Sweden</option>
        <option value="NO" >Norway</option>
      </optgroup>
    </select>
<script type="text/javascript">

$(document).ready(function() {

});

  var settings = {
    //el: document.getElementById("countries"),
    el: $('#countries'),
    noResultsMessage: "No countries found",
    sort: "desc",
    useSearchInput: true,
    orientation: "right",
    closeWhenCursorOut: false,
    usePolling: true,
    optionsMenuWidth: undefined,
    renderOptionMenuToBody: true,
    animationSpeed: 100,
    pollingInterval: 1
  };

  var defaultInstance = new Select(settings);
  defaultInstance.attach();
  console.log(defaultInstance.isOptionMenuOpen())

  setTimeout(function() {
      //console.log(new Date().getTime());
      //console.log(defaultInstance.isOptionMenuOpen())
    //$('#countries').attr("data-selectjs-loading-mode", true)

    //$('#countries').prop("disabled", "disabled");

    //$('#countries').hide();
  }, 5000)
/*instance = new Selex({
  el: document.getElementById("poison"),
  theme: "poison",
  sort: "desc",
  orientation: "right",
  placeholder: "Choose an option",
  closeWhenCursorOut: true,
  useSearchInput: true,
});
instance.attach();
//instance.toggleLoadingMode();*/
</script>
</div></div>
</body>
</html>
