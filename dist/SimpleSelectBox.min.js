var Urhola={SelectBox:function(o){var q=undefined;var A=undefined;var c=undefined;var n=undefined;var F=undefined;var G=undefined;var d=undefined;var f=undefined;var v=undefined;var e=this;var L={options:[],theme:undefined,parentElement:undefined,defaultValue:undefined,orientation:"right",onChange:undefined,optionLimit:5,sort:"desc"};H();function H(){L=Urhola.Utils.mergeSettings(o,L);Urhola.SelectBox.validateSettings(L);q=D();A=r();c=z();n=C();d=B()}this.setOptions=function(O){Urhola.SelectBox.validateOptionList(O);L.options=O;m(d);t()};this.setOptionLimit=function(O){e.closeOptionList();L.optionLimit=O;e.openOptionList()};this.setOrientation=function(O){L.orientation=O;e.render()};this.getOptions=function(){return I()};this.closeOptionList=function(){Urhola.Dom.addStyleToElement(d,"display","none");Urhola.Dom.addClassToElement(v,"arrow arrowDown")};this.openOptionList=function(){Urhola.Dom.addStyleToElement(d,"display","block");Urhola.Dom.addClassToElement(v,"arrow arrowUp");var O=d.firstChild.offsetHeight;h(O);E()};this.getSelectedValue=function(){return F};this.getSelectedLabel=function(){return G};this.hide=function(){q.addStyleToElement("display","none");return this};this.show=function(){q.addStyleToElement("display","block");return this};this.render=function(){var O=w();O.innerHTML="";Urhola.Dom.appendChildToElement(q,O);Urhola.Dom.appendChildToElement(A,q);var P=M();if(P==="right"){Urhola.Dom.appendChildToElement(n,A);Urhola.Dom.appendChildToElement(c,A)}else{Urhola.Dom.appendChildToElement(c,A);Urhola.Dom.appendChildToElement(n,A)}Urhola.Dom.appendChildToElement(d,q);m(d);return this};function s(){var O=a();var P=x(O);y(P)}function y(O){G=O.label;F=O.value;f.innerHTML="";Urhola.Dom.appendTextToElement(G,f)}function t(){var O=x(F);y(O)}function m(S){S.innerHTML="";var Q=I();Q=i(Q);for(var R=0;R<Q.length;R++){var P=Q[R].label;var T=Q[R].value;var O=Urhola.Dom.createElement("li");Urhola.Dom.addPropertyToElement(O,"label",P);Urhola.Dom.addPropertyToElement(O,"value",T);Urhola.Dom.appendTextToElement(P,O);O.addEventListener("click",J);Urhola.Dom.appendChildToElement(O,S)}return S}function i(O){var P=p();switch(P){case"desc":O.sort(N);break;case"asc":O.sort(j);break;default:throw Error('Unsupported sort type "'+P+'"')}return O}function N(R,Q){var P=R.label;var O=Q.label;if(P>O){return 1}if(P<O){return -1}return 0}function j(R,Q){var P=R.label;var O=Q.label;if(P>O){return -1}if(P<O){return 1}return 0}function E(){var O=q.innerWidth+"px";Urhola.Dom.addStyleToElement(d,"width",O)}function h(Q){var P=b();var O=P*Q;O+="px";Urhola.Dom.addStyleToElement(d,"height",O)}function x(Q){var O=I();for(var P=0;P<O.length;P++){if(O[P].value===Q){return O[P]}}return O[0]}function J(Q){var P=Q.target;var O=k();F=Urhola.Dom.getElementAttribute(P,"value");G=Urhola.Dom.getElementAttribute(P,"label");f.innerHTML=G;if(typeof O==="function"){O(G,F,e)}}function g(P){var O=Urhola.Dom.createTextNode(P);return O}function B(){var P="optionsContainer";var O=Urhola.Dom.createElement("ul");Urhola.Dom.addClassToElement(O,P);return O}function C(){var O="valueContainer";var P=Urhola.Dom.createElement("li");f=Urhola.Dom.createElement("span");Urhola.Dom.appendChildToElement(f,P);Urhola.Dom.addClassToElement(P,O);s();return P}function z(){var P="selector";var O=Urhola.Dom.createElement("li");Urhola.Dom.addClassToElement(O,P);v=Urhola.Dom.createElement("div");Urhola.Dom.addClassToElement(v,"arrow arrowDown");Urhola.Dom.appendChildToElement(v,O);return O}function K(P){var O=Urhola.Dom.getElementStyleValue(d,"display");if(O==="block"){e.closeOptionList()}else{e.openOptionList()}}function D(){var O=u();var P=Urhola.Dom.createElement("div");P.addEventListener("click",K);P.addEventListener("mouseleave",l);Urhola.Dom.addClassToElement(P,O);return P}function l(O){e.closeOptionList()}function r(){var P="container";var O=Urhola.Dom.createElement("ul");Urhola.Dom.addClassToElement(O,P);return O}function M(){return L.orientation}function b(){return L.optionLimit}function I(){return L.options}function u(){return L.theme}function w(){return L.parentElement}function a(){return L.defaultValue}function k(){return L.onChange}function p(){return L.sort}},Dom:{getElementById:function(a){return document.getElementById(a)},createElement:function(b,e,d){var c=document.createElement(b);if(e!==undefined){c.id=e}if(Urhola.Utils.isArray(d)){for(var a=0;a<d.length;a++){c.className=d[a]}}else{if(typeof d==="string"){c.className=className}}return c},addIdToElement:function(a,b){a.id=b;return a},addClassToElement:function(b,a){b.className=a;return b},addStyleToElement:function(b,a,c){b.style[a]=c;return b},getElementStyleValue:function(b,a){return b.style[a]},getElementAttribute:function(b,a){return b.getAttribute(a)},addPropertyToElement:function(b,a,c){b.setAttribute(a,c);return b},appendChildToElement:function(b,a){a.appendChild(b);return parent},createTextNode:function(a){return document.createTextNode(a)},appendTextToElement:function(c,b){var a=Urhola.Dom.createTextNode(c);Urhola.Dom.appendChildToElement(a,b);return a}},Utils:{mergeSettings:function(d,c){for(var e in c){if(d[e]!==undefined){c[e]=d[e]}}return c},isArray:function(a){if(Array.isArray){return Array.isArray(a)}return false}}};Urhola.SelectBox.validateOptionList=function(a){if(Object.prototype.toString.call(a)!=="[object Array]"){throw new Error("Options must be an object array! Each array object must contain label and value attributes!")}};Urhola.SelectBox.validateElement=function(a){if(typeof a!=="object"){throw new Error("Parent element must be an element!")}};Urhola.SelectBox.validateSettings=function(a){Urhola.SelectBox.validateOptionList(a.options);Urhola.SelectBox.validateElement(a.parentElement)};