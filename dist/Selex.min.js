var Urhola={Selex:function(L){var af=undefined;var ah=undefined;var am=undefined;var z=undefined;var F=undefined;var i=undefined;var m=undefined;var aq=undefined;var O=undefined;var ak=this;var ar={options:[],classes:undefined,targetElement:undefined,defaultOption:undefined,orientation:"left",onOptionChange:undefined,optionLimit:5,sort:undefined,onFocus:undefined,onFocusOut:undefined,tabIndex:0,height:undefined,width:undefined,fontSize:undefined,valueContainerName:undefined,attributes:undefined,placeHolder:undefined};aa();function aa(){ar=Urhola.Utils.mergeSettings(L,ar);Urhola.Validations.validateOptionList(B());Urhola.Validations.validateElement(R());af=C();ah=u();am=ae();z=s();m=K()}this.setOptions=function(av){Urhola.Validations.validateOptionList(av);ab(av);N(m);Z()};this.setOptionLimit=function(av){ak.closeOptionList();ad(av);ak.openOptionList()};this.setOrientation=function(av){x(av);ak.render()};this.getOptions=function(){return B()};this.closeOptionList=function(){Urhola.Dom.addStyleToElement(m,"display","none");Urhola.Dom.addClassToElement(O,"arrow arrowDown")};this.openOptionList=function(){Urhola.Dom.addStyleToElement(m,"display","block");Urhola.Dom.addClassToElement(O,"arrow arrowUp");var aw=m.firstChild;if(aw!==null){var av=m.firstChild.offsetHeight;S(av);r()}};this.isOptionListDisplayed=function(){return(Urhola.Dom.getElementStyleValue(m,"display")=="none")?false:true};this.getSelectedValue=function(){return F};this.getSelectedLabel=function(){return i};this.hide=function(){Urhola.Dom.addStyleToElement(af,"display","none");return this};this.setTabIndex=function(av){Urhola.Dom.addPropertyToElement(af,"tabIndex",av)};this.getTabIndex=function(){return Urhola.Dom.getElementAttribute(af,"tabIndex")};this.show=function(){Urhola.Dom.addStyleToElement(af,"display","block");return this};this.render=function(){var av=R();if(av.jquery!==undefined){av=av[0];if(av===undefined||av.length===0){return}}if(W===undefined){var ax=Urhola.Dom.getElementAttribute(av,"tabIndex");if(ax!==undefined){D(tabIndex)}}av.innerHTML="";Urhola.Dom.appendChildToElement(af,av);Urhola.Dom.appendChildToElement(ah,af);var aw=I();if(aw==="right"){Urhola.Dom.appendChildToElement(z,ah);Urhola.Dom.appendChildToElement(am,ah)}else{Urhola.Dom.appendChildToElement(am,ah);Urhola.Dom.appendChildToElement(z,ah)}Urhola.Dom.appendChildToElement(m,af);N(m);Z();return this};function Z(){var av=ag();var ax;switch(typeof av){case"string":case"number":ax=Q(av);break;case"object":var aw=(av.label===undefined)?av.name:av.label;var ay=av.value;ax=U(ay,aw);break;default:var az=au();if(az!==undefined){ao(az);return}else{ax=q()}break}if(ax!==undefined){Y(ax)}}function q(){return m.childNodes[0]}function ao(av){aq.innerHTML=av}function ai(av){var ax=Urhola.Dom.getElementAttribute(av,"value");var aw=Urhola.Dom.getElementAttribute(av,"label");return{value:ax,label:aw}}function Y(av){i=Urhola.Dom.getElementAttribute(av,"label");F=Urhola.Dom.getElementAttribute(av,"value");aq.innerHTML="";Urhola.Dom.appendTextToElement(i,aq)}function M(){var av=Q(F);Y(av)}function N(aA){aA.innerHTML="";var ax=B();ax=e(ax);for(var ay=0;ay<ax.length;ay++){var az=ax[ay];var aw,aB;var av=Urhola.Dom.createElement("li");switch(typeof az){case"string":aB=az;aw=az;break;case"object":aB=az.value;aw=(az.label===undefined)?((az.name===undefined)?aB:az.name):az.label;break;default:throw Error("Unsupported option data format!")}Urhola.Dom.addPropertyToElement(av,"label",aw);Urhola.Dom.addPropertyToElement(av,"value",aB);Urhola.Dom.appendTextToElement(aw,av);av.addEventListener("click",ap);Urhola.Dom.appendChildToElement(av,aA)}return aA}function e(av){var aw=o();switch(aw){case"desc":av.sort(w);break;case"asc":av.sort(b);break;case undefined:return av;break;default:throw Error('Unsupported sort type "'+aw+'"')}return av}function X(aw){switch(typeof aw){case"string":return aw.toLowerCase();break;case"object":var av=(aw.label===undefined)?aw.name:aw.label;if(av===undefined){av=aw.value}return av.toLowerCase();break}}function w(ay,ax){var aw=X(ay);var av=X(ax);if(aw>av){return 1}if(aw<av){return -1}return 0}function b(ay,ax){var aw=X(ay);var av=X(ax);if(aw>av){return -1}if(aw<av){return 1}return 0}function r(){var av=af.offsetWidth+"px";Urhola.Dom.addStyleToElement(m,"width",av)}function S(az){var ay=m.childNodes.length;var aw=al();var ax=aw;if(ay<aw){ax=ay}var av=ax*az;av+="px";Urhola.Dom.addStyleToElement(m,"height",av)}function Q(az){var ay=m.childNodes;for(var av=0;av<ay.length;av++){var aw=ay[av];var ax=Urhola.Dom.getElementAttribute(aw,"value");if(ax==az){return aw}}}function U(aB,aw){var aA=m.childNodes;for(var ax=0;ax<aA.length;ax++){var ay=aA[ax];var az=Urhola.Dom.getElementAttribute(ay,"value");var av=ay.innerHTML;if(az==aB&&av==aw){return ay}}return aA[0]}function ap(ax){var aw=ax.target;var av=J();F=Urhola.Dom.getElementAttribute(aw,"value");i=Urhola.Dom.getElementAttribute(aw,"label");Urhola.Dom.addPropertyToElement(z,"value",F);aq.innerHTML=i;if(typeof av==="function"){av(i,F,ax)}}function P(aw){var av=Urhola.Dom.createTextNode(aw);return av}function K(){var aw="optionsContainer";var av=Urhola.Dom.createElement("ul");Urhola.Dom.addClassToElement(av,aw);return av}function s(){var aw="valueContainer";var ay=Urhola.Dom.createElement("li");aq=Urhola.Dom.createElement("div");var av=V();if(av!==undefined){Urhola.Dom.addPropertyToElement(ay,"name",av)}var ax=l();if(ax!==undefined){Urhola.Dom.addStyleToElement(aq,"fontSize",ax)}Urhola.Dom.appendChildToElement(aq,ay);Urhola.Dom.addClassToElement(ay,aw);return ay}function ae(){var aw="selector";var av=Urhola.Dom.createElement("li");Urhola.Dom.addClassToElement(av,aw);O=Urhola.Dom.createElement("div");Urhola.Dom.addClassToElement(O,"arrow arrowDown");Urhola.Dom.appendChildToElement(O,av);return av}function p(aw){var av=Urhola.Dom.getElementStyleValue(m,"display");if(av==="block"){ak.closeOptionList()}else{ak.openOptionList()}}function an(av){var aw=g();if(typeof aw==="function"){aw()}}function y(av){var aw=d();if(typeof aw==="function"){aw()}}function ac(aw){var av=aw.keyCode;switch(av){case 38:h(aw);break;case 40:v(aw);break;case 13:T(aw);break;default:j(String.fromCharCode(aw.which)[0])}}function aj(av){Urhola.Dom.addPropertyToElement(av,"hovered",true)}function H(av){Urhola.Dom.addPropertyToElement(av,"hovered",false)}function j(aB){aB=aB.toLowerCase();var az=m.childNodes;var ay=E();for(var ax=0;ax<az.length;ax++){var av=az[ax];var aw=Urhola.Dom.getElementAttribute(av,"label");if(typeof ay==="object"){if(ai(ay).label[0].toLowerCase()===aB){var aA=ay.nextSibling;if(typeof aA==="object"&&aA!==null){if(ai(aA).label[0].toLowerCase()===aB){H(ay);aj(aA);m.scrollTop=aA.offsetTop;return}}}}if(aw[0].toLowerCase()===aB.toLowerCase()&&G(av)===false){if(ay!==undefined){H(ay)}aj(av);m.scrollTop=av.offsetTop;return}}}function h(ay){if(!ak.isOptionListDisplayed()){ak.openOptionList()}var aw=E();var av=m.childNodes[m.childNodes.length-1];if(aw===undefined||aw===null){aj(av)}else{H(aw);var ax=aw.previousSibling;if(ax===undefined||ax===null){ax=av}m.scrollTop=ax.offsetTop;aj(ax)}}function v(ay){if(!ak.isOptionListDisplayed()){ak.openOptionList()}var av=E();var ax=m.childNodes[0];var aw=av;if(aw===undefined||aw===null){aw=ax}else{H(av);aw=av.nextSibling;if(aw===undefined||aw===null){aw=ax}m.scrollTop=aw.offsetTop}aj(aw);return false}function n(ax,aw){var ay=ax;for(var av=0;av<aw;av++){ay=ay.previousSibling}return ay}function E(){var aw=m.childNodes;for(var ax=0;ax<aw.length;ax++){var av=aw[ax];if(G(av)){return av}}}function G(av){return(av.getAttribute("hovered")=="true")?true:false}function T(aw){var ax=E();if(ax!==null&&typeof ax==="object"){Y(ax);var av=J();if(typeof av==="function"){av(i,F,aw)}ak.closeOptionList()}}function C(){var az=a();var aw=W();var aA=Urhola.Dom.createElement("div");var av=at();var ax=t();if(av!==undefined){Urhola.Dom.addStyleToElement(aA,"height",av)}var ay=c();if(ay!==undefined){if(typeof ay==="number"){ay=ay+"px"}Urhola.Dom.addStyleToElement(aA,"width",ay)}Urhola.Dom.addPropertyToElement(aA,"tabindex",aw);aA.addEventListener("click",p);aA.addEventListener("mouseleave",k);aA.addEventListener("focus",an,true);aA.addEventListener("blur",y,true);aA.addEventListener("keyup",ac);aA.addEventListener("keydown",A);Urhola.Dom.addClassToElement(aA,az);f(aA,ax);return aA}function f(az,av){switch(typeof av){case"object":if(av.length>0){for(var ax=0;ax<av.length;ax++){var aw=av[ax].name;var ay=av[ax].value;Urhola.Dom.addPropertyToElement(az,aw,ay)}}else{if(av.name!==undefined&&av.value!==undefined){Urhola.Dom.addPropertyToElement(az,av.name,av.value)}else{for(var aw in av){var ay=av[aw];Urhola.Dom.addPropertyToElement(az,aw,ay)}}}break;case"string":case"number":Urhola.Dom.addPropertyToElement(az,av,"");break}}function A(av){av.preventDefault();return false}function k(av){ak.closeOptionList()}function u(){var aw="container";var av=Urhola.Dom.createElement("ul");Urhola.Dom.addClassToElement(av,aw);return av}function I(){return ar.orientation}function x(av){ar.orientation=av}function al(){return ar.optionLimit}function ad(av){ar.optionLimit=av}function B(){return ar.options}function ab(av){ar.options=av}function a(){return ar.classes}function R(){return ar.targetElement}function ag(){return ar.defaultOption}function at(){return ar.height}function J(){return ar.onOptionChange}function o(){return ar.sort}function g(){return ar.onFocus}function d(){return ar.onFocusOut}function W(){return ar.tabIndex}function D(av){ar.tabIndex=av}function l(){return ar.fontSize}function c(){return ar.width}function V(){return ar.valueContainerName}function t(){return ar.attributes}function au(){return ar.placeHolder}},Dom:{getElementById:function(a){return document.getElementById(a)},createElement:function(b,e,d){var c=document.createElement(b);if(e!==undefined){c.id=e}if(Urhola.Utils.isArray(d)){for(var a=0;a<d.length;a++){c.className=d[a]}}else{if(typeof d==="string"){c.className=className}}return c},addIdToElement:function(a,b){a.id=b;return a},addClassToElement:function(b,a){b.className=a;return b},addStyleToElement:function(b,a,c){b.style[a]=c;return b},getElementStyleValue:function(b,a){return b.style[a]},getElementAttribute:function(b,a){return b.getAttribute(a)},addPropertyToElement:function(b,a,c){b.setAttribute(a,c);return b},appendChildToElement:function(b,a){a.appendChild(b);return parent},createTextNode:function(a){return document.createTextNode(a)},appendTextToElement:function(c,b){var a=Urhola.Dom.createTextNode(c);Urhola.Dom.appendChildToElement(a,b);return a}},Utils:{mergeSettings:function(d,c){for(var e in c){if(d[e]!==undefined){c[e]=d[e]}}return c},isArray:function(a){if(Array.isArray){return Array.isArray(a)}return false}},Validations:{validateOptionList:function(a){if(typeof a!=="object"||a===undefined){throw new Error("Invalid options format!")}},validateElement:function(a){if(typeof a!=="object"){throw new Error("Invalid element!")}}}};var Selex=function(a){return new Urhola.Selex(a)};